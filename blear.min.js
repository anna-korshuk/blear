/**
 * (c) 2015 Jaden Dessureault
 * This code is licensed under MIT license (see LICENSE for details) 
 */
var Blear=function(a,b){var c=this;c.elements={main:a},c.setOptions(b),c.createElements(),c.stylize(),window.onscroll=function(){c.update()}};Blear.prototype.setOptions=function(a){var b={radius:20,background:"#ffffff",opacity:.6,wrapper:".blear-wrap",blur:".blear"};a=a||{};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);this.options=b},Blear.prototype.convertHex=function(a){a=a.substring(1);var b=parseInt(a,16),c=b>>16&255,d=b>>8&255,e=255&b;return c+","+d+","+e},Blear.prototype.createElements=function(){var a=document.body.children;this.elements.wrapper=document.createElement("div"),this.elements.wrapper.className=this.options.wrapper.substring(1),this.elements.wrapper.id=this.elements.main.id+"-"+this.options.wrapper.substring(1),this.elements.background=document.createElement("div"),this.elements.background.id=this.elements.main.id+"-background",this.elements.main.appendChild(this.elements.wrapper),this.elements.wrapper.insertBefore(this.elements.background),this.elements.blur=document.createElement("div"),this.elements.blur.className=this.options.blur.substring(1),this.elements.blur.id=this.elements.main.id+"-"+this.options.blur.substring(1),this.elements.wrapper.appendChild(this.elements.blur);for(var b in a)if(a.hasOwnProperty(b)){if("SCRIPT"===a[b].tagName||a[b]===this.elements.main||a[b]===this.elements.wrapper)continue;this.elements.blur.innerHTML+=a[b].outerHTML||""}},Blear.prototype.stylize=function(){var a={main:{overflow:"hidden"},background:{height:"100%",width:"100%",position:"fixed",zIndex:999,background:"rgba("+this.convertHex(this.options.background)+","+this.options.opacity+")"},wrapper:{width:"100%",height:"100%",overflow:"hidden",position:"fixed",top:0,zIndex:-1},blur:{position:"relative",webkitFilter:"blur("+this.options.radius+"px)"}};for(var b in a)for(var c in a[b])this.elements[b].style[c]=a[b][c]},Blear.prototype.update=function(){var a=window.scrollY,b="translate3d(0px,"+-a+"px,0px)",c={webkitTransform:b,mozTransform:b,transform:b};for(var d in c)this.elements.blur.style[d]=c[d];return!1};